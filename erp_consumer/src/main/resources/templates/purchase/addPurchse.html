<!DOCTYPE html>

<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
        xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
>
<head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <script type="text/javascript"  src="../jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" href="../bootstrap3/css/bootstrap.css"/>
    <link rel="stylesheet" href="../bootstrap3/css/bootstrap-theme.css"/>
    <link rel="stylesheet" href="../bootstrap-treeview/bootstrap-treeview.min.css"/>
    <link rel="stylesheet" href="../bootstrap-table/bootstrap-table.css"/>
    <link rel="stylesheet" href="../bootstrap-select/css/bootstrap-select.css" />
    <link rel="stylesheet" href="../uploadify/uploadify.css"/>
    <link rel="stylesheet" href="../bootstrap-datetimepicker/css/bootstrap-datetimepicker.css" />
    <script type="text/javascript"  src="../bootstrap3/js/bootstrap.min.js"></script>
    <script type="text/javascript"  src="../bootstrap-table/bootstrap-table.js"></script>
    <script type="text/javascript" src="../bootstrap-bootbox/bootbox.js"></script>
    <script type="text/javascript" src="../bootstrap-datetimepicker/js/bootstarp/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript"  src="../bootstrap-datetimepicker/js/bootstarp/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="../bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
    <script src="../bootstrap-select/js/bootstrap-select.js"></script>
    <script src="../static/bootstrap-select/js/i18n/defaults-zh_CN.js"></script>
    <script src="../uploadify/jquery.uploadify.min.js"></script>



</head>
<body>
<ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#home">基本信息</a></li>
    <li><a data-toggle="tab" href="#menu1">发票信息</a></li>
    <li><a data-toggle="tab" href="#menu2">绑定商品</a></li>
    <li><a data-toggle="tab" href="#menu3">证件信息</a></li>
    <li><a data-toggle="tab" href="#menu4">付款方面</a></li>
</ul>
<div class="tab-content">
    <div id="home" class="tab-pane fade in active">
        <form  id="myPurchase">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"></span>发起信息
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-10">
                            <div  class="form-inline" >
                                <label>引进负责人:</label>
                                <input type="text" class="form-control"  name="chargePerson"   placeholder="引进负责人"/>
                            </div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <label>供应商编号:</label>
                                <input type="text" class="form-control" onblur="fu()"  id="supplierNumber" name="supplierNumber"  placeholder="供应商编号"/>
                            </div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <label>供应商来源:</label>
                                <input type="text" class="form-control"  name="supplierSource"  placeholder="供应商来源"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"> </span>公司信息
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-10">
                            <div  class="form-inline" style="float: left;margin-top: 15px">
                                <label>单位名称:</label>
                                <input type="text" class="form-control"  name="companyName"   placeholder="单位名称"/>
                            </div>
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>供方简称:</label>
                                <input type="text" class="form-control"  name="simpleName"  placeholder="供方简称"/>
                            </div>
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>品牌:</label>
                                <input type="text" class="form-control"  name="brand"  placeholder="品牌"/>
                            </div>
                        </div>
                        <div  class="col-md-10">
                            <div  class="form-inline" style="margin-top: 15px">
                                <label>所属分类:</label>
                                <input type="text" class="form-control"  name="classification"  placeholder="所属分类"/>
                            </div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <label>经营范围:</label>
                                <input type="text" class="form-control"  name="businessScope"  placeholder="经营范围"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"> </span> 联系信息
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px">
                                <label>联系人:</label>
                                <input type="text" class="form-control"  name="contacts"   placeholder="联系人"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>职业:</label>
                                <input type="text" class="form-control"  name="profession"  placeholder="职业"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>手机:</label>
                                <input type="text" class="form-control"  name="phone"  placeholder="手机"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px">
                                <label>固定电话:</label>
                                <input type="text" class="form-control"  name="telephone"   placeholder="固定电话"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>传真:</label>
                                <input type="text" class="form-control"  name="fax"  placeholder="传真"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>邮件:</label>
                                <input type="text" class="form-control"  name="email"  placeholder="邮件"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px">
                                <label>QQ:</label>
                                <input type="text" class="form-control"  name="qq"   placeholder="QQ"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>微信:</label>
                                <input type="text" class="form-control"  name="wechat"  placeholder="微信"/>
                            </div>
                        </div>
                        <div style="clear:both"></div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px">
                                <label>所在省市:</label>
                                <select class="form-control" name="province">
                                    <option value="0">请选择</option>
                                    <option value="1">江苏省</option>
                                    <option value="2">浙江省</option>
                                    <option value="3">北京</option>
                                    <option value="4">上海</option>
                                    <option value="5">广东省</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div  class="form-inline" style="float: left;margin-top: 15px;margin-left:30px;">
                                <label>所在区域:</label>
                                <input type="text" class="form-control"  name="area"   placeholder="所在区域"/>
                            </div>
                        </div>
                        <div  class="col-md-10">
                            <div  class="form-inline" style="margin-top: 15px">
                                <label>地址:</label>
                                <input type="text" class="form-control"  name="adress"  placeholder="地址"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-default" onclick="fanhui()"><span class="glyphicon glyphicon-remove" > </span>取消</button>
            <shiro:hasPermission  name="addPurchse:save"><button type="button" class="btn btn-info"  onclick="save()"><span class="glyphicon glyphicon-ok" > </span>保存</button></shiro:hasPermission>
        </form>
    </div>
    <div id="menu1" class="tab-pane fade">
        <form  id="myReceipt">
            <input  type="text"  id="supplierNumberFaPiao"  name="supplierNumberFaPiao" />
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"></span>发票信息
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-10">
                            <div  class="form-inline" >
                                <div style="float: left">
                                <label>单位名称:</label>
                                </div>
                                <div style="float: left;margin-left: 37px">
                                <input type="text" class="form-control"  name="adressCom"   placeholder="单位名称"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"><label>纳税号:</label></div>
                                <div style="float: left;margin-left: 50px">
                                <input type="text" class="form-control"  name="taxNumber"  placeholder="纳税号"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>开户银行:</label></div>
                                <div style="float: left;margin-left: 37px">
                                    <input type="text" class="form-control"  name="bank"  placeholder="开户银行"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>地址:</label></div>
                                <div style="float: left;margin-left: 65px">
                                <input type="text" class="form-control"  name="bankAdress"  placeholder="地址"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"><label>报价是否含税:</label></div>
                                <div style="float: left;margin-left: 10px">
                                <input type="radio" class="radio-inline"  name="priceAndTax"  value="1" />含税
                                    <input type="radio" class="radio-inline"  name="priceAndTax" value="2"/>不含税
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top:15px">
                                <div style="float: left"><label>税率:</label></div>
                                <div style="float: left;margin-left: 65px">
                                <input type="text" class="form-control"  name="taxRate"  placeholder="税率"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
           </div>
            <button type="button" class="btn btn-default" onclick="fanhui()"><span class="glyphicon glyphicon-remove" > </span>取消</button>
            <shiro:hasPermission  name="addPurchse:save"><button type="button" class="btn btn-info"  onclick="saveFive()"><span class="glyphicon glyphicon-ok" > </span>保存</button></shiro:hasPermission>
        </form>
    </div>
    <div id="menu2" class="tab-pane fade">
        <div class="panel panel-warning">
            <div class="panel-heading">
                <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"></span>供应商绑定商品
                <div style="float:right;margin-bottom:30px ">
                <button type="button"   class="btn btn-info"  name='Submit'  onClick="addinfo()"><span  class="glyphicon glyphicon-star" style="color: rgb(255, 140, 152)" > </span>新增一行</button>
                </div>
                </div>
            <div>
                <form  id="goodForm">
                    <input  type="text"  id="goodSupplierNumber"  name="goodSupplierNumber" />
                    <table id="table3" class="table table-striped"  cellpadding="1" cellspacing="1" >
                                <tr >
                                    <td >商品编号</td>
                                    <td >商品名称</td>
                                    <td >规格</td>
                                    <td >单位</td>
                                    <td >操作</td>
                                </tr>
                     </table>
                </form>
            </div>
            <button type="button" class="btn btn-default" onclick="fanhui()"><span class="glyphicon glyphicon-remove" > </span>取消</button>
            <shiro:hasPermission  name="addPurchse:save"><button type="button" class="btn btn-info"  onclick="saveFive()"><span class="glyphicon glyphicon-ok" > </span>保存</button></shiro:hasPermission>
        </div>

    </div>
    <div id="menu3" class="tab-pane fade">
        <form  id="myFile">

            <div class="panel panel-warning">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"></span>证件信息
                </div>
                <div class="panel-body">

                        <input  type="text"  id="tuSupplierNumber"  name="supplierNumberZheng" />
                     <div class="row">
                        <div class="col-md-10">
                            <div  class="form-inline" >
                                <div style="float: left">
                                    <label>营业执照:</label>
                                </div>
                                <div style="float: left;margin-left: 37px">
                                    <div id="showImgDiv" style="width: 81px;height: 81px;">
                                        <img src="../images/u172.png" id="showImg" class="img-circle" style="width: 81px;height: 81px;"/>
                                    </div>
                                    <div style="margin-top: 10px">
                                        <input type="file" id="userphoto" />
                                    </div>
                                    <div id="showswf"></div>
                                    <input type="text" name="yingYe" id="userp"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"><label>XX证件照:</label></div>
                                <div style="float: left;margin-left: 50px">
                                    <div id="showImgDiv1" style="width: 81px;height: 81px;">
                                        <img src="../images/u172.png" id="showImg1" class="img-circle" style="width: 81px;height: 81px;"/>
                                    </div>
                                    <div style="margin-top: 10px">
                                        <input type="file" id="userphoto1" />
                                    </div>
                                    <div id="showswf1"></div>
                                    <input type="text" name="zheng1" id="userp1"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>XX证件照:</label></div>
                                <div style="float: left;margin-left: 37px">
                                    <div id="showImgDiv2" style="width: 81px;height: 81px;">
                                        <img src="../images/u172.png" id="showImg2" class="img-circle" style="width: 81px;height: 81px;"/>
                                    </div>
                                    <div style="margin-top: 10px">
                                        <input type="file" id="userphoto2" />
                                    </div>
                                    <div id="showswf2"></div>
                                    <input type="text" name="zheng2" id="userp2"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>XX证件照:</label></div>
                                <div style="float: left;margin-left: 65px">
                                    <div id="showImgDiv3" style="width: 81px;height: 81px;">
                                        <img src="../images/u172.png" id="showImg3" class="img-circle" style="width: 81px;height: 81px;"/>
                                    </div>
                                    <div style="margin-top: 10px">
                                        <input type="file" id="userphoto3" />
                                    </div>
                                    <div id="showswf3"></div>
                                    <input type="text" name="zheng3" id="userp3"/>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

            </div>
            <button type="button" class="btn btn-default" onclick="fanhui()"><span class="glyphicon glyphicon-remove" > </span>取消</button>
            <shiro:hasPermission  name="addPurchse:save"><button type="button" class="btn btn-info"  onclick="saveFive()"><span class="glyphicon glyphicon-ok" > </span>保存</button></shiro:hasPermission>
        </form>
    </div>

    <div id="menu4" class="tab-pane fade">
        <form  id="myPay">
            <input type="text"  id="supplierNumberPay"  name="supplierNumberPay" />
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-heart" style="color: rgb(247, 3, 94); font-size: 15px;"></span>付款方面
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-10">
                            <div  class="form-inline" >
                                <div style="float: left">
                                    <label>付款方式:</label>
                                </div>
                                <div style="float: left;margin-left: 60px">
                                    <input type="text" class="form-control"  name="payWay"   placeholder="付款方式"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"><label>进货后几天付款:</label></div>
                                <div style="float: left;margin-left: 18px">
                                    <input type="text" class="form-control"  name="laterPay"  placeholder="进货后几天付款"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>账期起始日:</label></div>
                                <div style="float: left;margin-left: 45px">
                                    <input type="text" class="form-control"  name="startTime"  placeholder="账期起始日"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>账期:</label></div>
                                <div style="float: left;margin-left: 86px">
                                    <input type="text" class="form-control"  name="countTime"  placeholder="账期"/>
                                </div>
                            </div>
                            <div style="clear:both"></div>
                            <div  class="form-inline" style="margin-top: 15px">
                                <div style="float: left"> <label>账单支付时限:</label></div>
                                <div style="float: left;margin-left: 29px">
                                    <input type="text" class="form-control"  name="countPayTime"  placeholder="账单支付时限"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           <button type="button" class="btn btn-default" onclick="fanhui()"><span class="glyphicon glyphicon-remove" > </span>取消</button>
            <shiro:hasPermission  name="addPurchse:save"><button type="button" class="btn btn-info"   onclick="saveFive()"><span class="glyphicon glyphicon-ok" > </span>保存</button></shiro:hasPermission>
        </form>
    </div>

</div>


</body>
    <script>
        $(function(){
            bianhao();
            fu();
            tu();

        })

        function addinfo(){
                var str ="<tr><td>"+'<div class="row"><div class="col-md-8"><input  class="form-control" name="goodNum" id="shang" type="text" /></div></div>'+"</td>"+
                    "<td>"+'<div class="row"><div class="col-md-8"><input  name="goodName" class="form-control" type="text" /></div></div>'+"</td>"+
                    "<td>"+'<div class="row"><div class="col-md-8"><input  name="goodSize" class="form-control" type="text" /></div></div>'+"</td>"+
                    "<td>"+'<div class="row"><div class="col-md-8"><input  name="goodUnit" class="form-control" type="text" /></div></div>'+"</td>"+
                    "<td>"+'<button type="button" class="btn btn-warning"  onclick="removeTr()">删除</button>'+"</td>"+
                    "</tr>";
                jQuery("#table3").append(str);
                setNum();
        }
        /* <![CDATA[ */
        function setNum() {
            var  cc=document.getElementById("goodSupplierNumber").value
            var arr = document.getElementsByName("goodNum");
            for (var i = 0; i < arr.length; i++) {
                var  num=Math.ceil(Math.random()*899+1000);
                arr[i].value = cc+num;
            }
        }

        function removeTr(){
            $("table#table3 tr").click(function() {
                $(this).remove();
            });
        }
        function fanhui() {
            location.href="../purchase/showPurchase"
        }
        function  bianhao(){
            var aa='NO ';
            var  num=Math.ceil(Math.random()*899+1000);
            var  bb=aa+num;
            document.getElementById("supplierNumber").value=bb;
        }

        function saveFive() {
            save();
            savePay();
            saveFaPiao();
            addgood();
            saveTu();
        }
        function  fu(){
            var  supplierNumber=$('#supplierNumber').val();
            document.getElementById("supplierNumberFaPiao").value=supplierNumber;
            document.getElementById("supplierNumberPay").value = supplierNumber;
            document.getElementById("goodSupplierNumber").value = supplierNumber;
            document.getElementById("tuSupplierNumber").value = supplierNumber;
        }
        function addgood(){
            var  supplierNumber= document.getElementById("goodSupplierNumber").value;
            var goodNum = document.getElementsByName("goodNum");
            var goodName = document.getElementsByName("goodName");
            var goodSize = document.getElementsByName("goodSize");
            var goodUnit = document.getElementsByName("goodUnit");
            var   obj='';
            if(goodNum.length==0){
                obj+=supplierNumber
            }else{
                for(var  i=0;i<goodNum.length;i++){
                    obj+= supplierNumber+','+goodNum[i].value+','+goodName[i].value+','+goodSize[i].value+','+goodUnit[i].value+'-';
                }
            }
            $.ajax({
               url:'../purchase/addGood',
                type:'post',
                data:{
                    arr:obj
                },
                dataType:'json',
                success:function(data){
                    if (data) {
                        location.href="../purchase/showPurchase"
                    }
                },
                error : function(e){
                    alert("请打开F12或者跑debug");
                }
            })



        }
        /* ]]> */

        function  saveTu(){
            var g_form = new FormData($("#myFile")[0]);
            $.ajax({
                url : "../purchase/addZheng",
                async : true,
                type: "POST",
                data: g_form,
                processData: false,
                contentType:false,
                dataType: "json",
                success : function(data) {
                    if(data){
                        alert("添加成功！");
                        location.href="../purchase/showPurchase"
                    }
                },
                error : function(e){
                    alert("请打开F12或者跑debug");
                }
            });
        }
        function savePay() {
            var g_form = new FormData($("#myPay")[0]);
            $.ajax({
                url : "../pay/addPay",
                async : true,
                type: "POST",
                data: g_form,
                processData: false,
                contentType:false,
                dataType: "json",
                success : function(data) {
                    if(data){
                        alert("添加成功！");
                        location.href="../purchase/showPurchase"
                    }
                },
                error : function(e){
                    alert("请打开F12或者跑debug");
                }
            });
        }
        function saveFaPiao() {
            var g_form = new FormData($("#myReceipt")[0]);
            $.ajax({
                url : "../receipt/addReceipt",
                async : true,
                type: "POST",
                data: g_form,
                processData: false,
                contentType:false,
                dataType: "json",
                success : function(data) {
                    if(data){
                        alert("添加成功！");
                        location.href="../purchase/showPurchase"
                    }
                },
                error : function(e){
                    alert("请打开F12或者跑debug");
                }
            });
        }

        function save(){
            var g_form = new FormData($("#myPurchase")[0]);
            $.ajax({
                url : "../purchase/addPurchase",
                async : true,
                type: "POST",
                data: g_form,
                processData: false,
                contentType:false,
                dataType: "json",
                success : function(data) {
                    if(data){
                        alert("添加成功！");
                        location.href="../purchase/showPurchase"
                    }
                },
                error : function(e){
                    alert("请打开F12或者跑debug");
                }
            });
        }

        function  tu(){
            $("#userphoto").uploadify({
                //前台请求后台的url 不可忽略的参数
                'uploader' :"../purchase/uploadImg",
                //插件自带 不可忽略的参数
                'swf' : '../uploadify/uploadify.swf',
                //撤销按钮的图片路径
                'cancelImg' : '../uploadify/uploadify-cancel.png',
                //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
                'auto' : true,
                //可以同时选择多个文件 默认为true 不可忽略
                'multi' : false,
                //给上传按钮设置文字
                'buttonText':'点击更换头像',
                //上传后队列是否消失
                'removeCompleted' : true,
                'removeTimeout' : 2,
                //上传文件的个数
                'uploadLimit' : 5,
                'fileTypeExts' : '*.jpg;*.jpge;*.gif;*.png',
                'fileSizeLimit' : '2MB',
                //给div的进度条加背景 不可忽略
                'queueID' : 'showswf',
                // controller层方法中接收文件的参数名
                'fileObjName' : 'imgFile',
                //上传成功后的回调函数
                'onUploadSuccess' : function(file, data, response) {
                    //data : 图片上传成功后的 图片路径
                    /*
                    1.根据图片路径 通过img标签回显图片
                    2.将图片路径 放到隐藏域中  保存用户数据时  直接添加到数据库
                    */
                    $("#showImg").attr("src",data);
                    $("#userp").val(data);
                }
            });
            $("#userphoto1").uploadify({
                //前台请求后台的url 不可忽略的参数
                'uploader' :"../purchase/uploadImg",
                //插件自带 不可忽略的参数
                'swf' : '../uploadify/uploadify.swf',
                //撤销按钮的图片路径
                'cancelImg' : '../uploadify/uploadify-cancel.png',
                //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
                'auto' : true,
                //可以同时选择多个文件 默认为true 不可忽略
                'multi' : false,
                //给上传按钮设置文字
                'buttonText':'点击更换头像',
                //上传后队列是否消失
                'removeCompleted' : true,
                'removeTimeout' : 2,
                //上传文件的个数
                'uploadLimit' : 5,
                'fileTypeExts' : '*.jpg;*.jpge;*.gif;*.png',
                'fileSizeLimit' : '2MB',
                //给div的进度条加背景 不可忽略
                'queueID' : 'showswf',
                // controller层方法中接收文件的参数名
                'fileObjName' : 'imgFile',
                //上传成功后的回调函数
                'onUploadSuccess' : function(file, data, response) {
                    //data : 图片上传成功后的 图片路径
                    /*
                    1.根据图片路径 通过img标签回显图片
                    2.将图片路径 放到隐藏域中  保存用户数据时  直接添加到数据库
                    */
                    $("#showImg1").attr("src",data);
                    $("#userp1").val(data);
                }
            });
            $("#userphoto2").uploadify({
                //前台请求后台的url 不可忽略的参数
                'uploader' :"../purchase/uploadImg",
                //插件自带 不可忽略的参数
                'swf' : '../uploadify/uploadify.swf',
                //撤销按钮的图片路径
                'cancelImg' : '../uploadify/uploadify-cancel.png',
                //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
                'auto' : true,
                //可以同时选择多个文件 默认为true 不可忽略
                'multi' : false,
                //给上传按钮设置文字
                'buttonText':'点击更换头像',
                //上传后队列是否消失
                'removeCompleted' : true,
                'removeTimeout' : 2,
                //上传文件的个数
                'uploadLimit' : 5,
                'fileTypeExts' : '*.jpg;*.jpge;*.gif;*.png',
                'fileSizeLimit' : '2MB',
                //给div的进度条加背景 不可忽略
                'queueID' : 'showswf',
                // controller层方法中接收文件的参数名
                'fileObjName' : 'imgFile',
                //上传成功后的回调函数
                'onUploadSuccess' : function(file, data, response) {
                    //data : 图片上传成功后的 图片路径
                    /*
                    1.根据图片路径 通过img标签回显图片
                    2.将图片路径 放到隐藏域中  保存用户数据时  直接添加到数据库
                    */
                    $("#showImg2").attr("src",data);
                    $("#userp2").val(data);
                }
            });
            $("#userphoto3").uploadify({
                //前台请求后台的url 不可忽略的参数
                'uploader' :"../purchase/uploadImg",
                //插件自带 不可忽略的参数
                'swf' : '../uploadify/uploadify.swf',
                //撤销按钮的图片路径
                'cancelImg' : '../uploadify/uploadify-cancel.png',
                //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
                'auto' : true,
                //可以同时选择多个文件 默认为true 不可忽略
                'multi' : false,
                //给上传按钮设置文字
                'buttonText':'点击更换头像',
                //上传后队列是否消失
                'removeCompleted' : true,
                'removeTimeout' : 2,
                //上传文件的个数
                'uploadLimit' : 5,
                'fileTypeExts' : '*.jpg;*.jpge;*.gif;*.png',
                'fileSizeLimit' : '2MB',
                //给div的进度条加背景 不可忽略
                'queueID' : 'showswf',
                // controller层方法中接收文件的参数名
                'fileObjName' : 'imgFile',
                //上传成功后的回调函数
                'onUploadSuccess' : function(file, data, response) {
                    //data : 图片上传成功后的 图片路径
                    /*
                    1.根据图片路径 通过img标签回显图片
                    2.将图片路径 放到隐藏域中  保存用户数据时  直接添加到数据库
                    */
                    $("#showImg3").attr("src",data);
                    $("#userp3").val(data);
                }
            });
        }
    </script>
</html>